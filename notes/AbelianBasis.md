# Abelian Basis

## General Abelian Symmetry

Consider the general Abelian group $G \simeq g_1\times g_2\times \cdots\times g_n$ where each $g_j$ is a cycling group with order $G_j$, with generator $\hat g_j$. A state $|\psi_d\rangle$ is represented by a bit string $|d\rangle$, of which the exact expression is:

$$
|\psi_d\rangle = \frac{1}{R_d}\sum_{\{s\}}e^{-i\sum_jk_js_j}\prod_{j=1}^n \hat g_j^{s_j}|d\rangle.
$$
Here $\{k_j\}$ determine the representation of the $G$. 

**Translation Symmetry** The typical example of this is the translational symmetry generated by:
$$
\hat T |d_1,d_2,\cdots,d_L\rangle = |d_L,d_1,\cdots,d_{L-1}\rangle.
$$
For momentum $k$ sector, a state 
$$
|\psi_d\rangle = \frac{1}{R_d}|d(k)\rangle
=\frac{1}{R_d}\sum_{r=0}^{L-1} \mathrm{e}^{-i k r} \hat T^r|d\rangle .
$$
When $|d\rangle = |0\cdots01\rangle$, the state is
$$
|\psi\rangle = \frac{1}{\sqrt L}\sum_{r=1}^L e^{-ikj}s_j^+|0\cdots0\rangle.
$$
If all the translated states $\hat T^r|d\rangle$ are distinct, the normalization constant is just $\sqrt{L}$. Some reference states have periodicities less than $L$, and this affects normalization. The periodicity of a state is defined as the smallest integer $N_d$ for which
$$
\hat T^{N_d}|d\rangle=|d\rangle, \quad N_d \in\{1, \ldots, L\} .
$$
If $N_d < L$, then there are multiple copies of the same state in the sum, and the normalization constant must be modified accordingly. 

> **Claim:** For given $|d\rangle$, the allowed momenta are those for which $k N_d = 2\pi m$. For the allowed momenta, the normalization constant is $R_d = L/\sqrt{N_d}$.
>
> **Proof.** The periodicity of the representative has to be compatible with the momentum in order to be a viable state. The compatibility is related to normalizability. The sum of phase factors associated with the representative state $|d\rangle$ is
> $$
> F\left(k, N_d\right)=\sum_{n=0}^{L/N_d-1} \mathrm{e}^{-i k n N_d}
> = \begin{cases}
> L / N_d, & k N_d = 2 \pi m \\ 
> 0, & \text { otherwise }
> \end{cases}.
> $$
> The normalization constant is then
> $$
> R_d^2=\langle d(k) | d(k)\rangle=N_d\left|F\left(k, N_d\right)\right|^2.
> $$
> Therefore, if $F\left(k, N_a\right)=0$, no state with momentum $k$ can be defined using the reference state $|a\rangle$. Thus,  
> $$
> k=\frac{2 \pi}{R_d} m, \quad
> R_d = \frac{L}{\sqrt{N_d}}.
> $$

We remark that the summation in the definition of $|a(k)\rangle$ can also be written as
$$
|a(k)\rangle = \frac{1}{\sqrt{N_a}}\sum_{r=0}^{N_a-1} e^{-ikr}T^r|a\rangle.
$$
The coefficient is related to normalization $N_a^{-1/2} = R_a/L$.

### Matrix elements

Consider the translational invariant Hamiltonian $H=\sum_{j=1}^L h_j$. We need to find the state resulting when $H$ acts on the momentum states. Since $[H, T]=0$ we can write
$$
H|a(k)\rangle = \frac{1}{R_a} \sum_{r=0}^{L-1} \mathrm{e}^{-i k r} T^r H|a\rangle
= \frac{1}{R_a} \sum_{j=1}^L \sum_{r=0}^{L-1} \mathrm{e}^{-i k r} T^r h_j|a\rangle.
$$
We need to operate with the Hamiltonian operators $h_j$ only on the reference state. We can write $h_j|a\rangle= \sum_{b'}h_j(b',a)\left|b^{\prime}\right\rangle$. The prime in $\left|b^{\prime}\right\rangle$ is there to indicate that this new state is not necessarily one of the reference states used to define the basis and, therefore, a momentum state should not be written directly based on it. Provided that $\left|b^{\prime}\right\rangle$ is compatible with the momentum, there must be a reference state $\left|b\right\rangle$ which is related to it by 
$$
\left|b\right\rangle=T^{l(b')}\left|b^{\prime}\right\rangle.
$$
Using this relation we have
$$
H|a(k)\rangle=\sum_{j,b'} \frac{h_j(b',a)}{R_a} \sum_{r=0}^{L-1} \mathrm{e}^{-i k r} T^{r-l(b')}\left|b_j\right\rangle
=\sum_{j,b'} h_j(b',a) \mathrm{e}^{-i k l(b')} \frac{R_{b}}{R_a}\left|b(k)\right\rangle.
$$
We thus obtain the matrix element
$$
\langle a(k)|H|b(k)\rangle = \sum_{j=1}^L\sum_{b'} h_j(b',a) \mathrm{e}^{-i k l(b')} \frac{R_{b}}{R_a}.
$$

## Reflection and Spin-Flip Symmetry

The spatial reflection operator is defined as
$$
P\left|S_1^z, \ldots, S_{L}^z\right\rangle=\left|S_{L}^z, \ldots, S_1^z\right\rangle
$$
For an eigenstate of $P|\Psi(p)\rangle=p|\Psi(p)\rangle$, where $p= \pm 1$ since $P^2=1$. We will use $T$ and $P$ for block-diagonalization, although they **cannot always be used simultaneously** because $[T, P]=0$ only in a sub-space of the Hilbert space. For a system with open boundaries, $T$ is not defined, but $P$ can be used.

For the special (and most important) case $m_z=0$ (for even $N$ ), we can block-diagonalize using a discrete subset of all the possible rotations in spin-space; the spin-flip symmetry, i.e., invariance with respect to flipping all the spins. This is defined formally by an operator we call $Z$;
$$
Z\left|S_1^z, \ldots, S_{L}^z\right\rangle=\left|-S_0^z,-S_1^z, \ldots,-S_{L}^z\right\rangle
$$
For this operator we again have $Z^2=1$ and the eigenvalues $z= \pm 1$. Since $Z$ commutes with both $P$ and $T$, it can be used together with these operators to further block-diagonalize $H$.

### States with Parity

Consider the following extension of the momentum state:
$$
|a(k, p)\rangle=\frac{1}{R_a} \sum_{r=0}^{N-1}\sum_{s=0}^1 \mathrm{e}^{-i k r}p^s T^r P^s|a\rangle,
$$
where $p= \pm 1$. Clearly, this is a state with momentum $k$, but is it also an eigenstate of $P$ with parity $p$. We can check this by explicit operation with $P$, using $P^2=1, p^2=1$, and the relationship $P T=T^{-1} P$ :
$$
P|a(k, p)\rangle =\frac{1}{R_a} \sum_{r=0}^{N-1} \mathrm{e}^{-i k r} T^{-r}(P+p)|a\rangle
 = \frac{p}{R_a} \sum_{r=0}^{N-1} \mathrm{e}^{i k r} T^r(1+p P)|a\rangle .
$$
This is not exactly of the original form unless $k=0$ or $\pi$, for which $\mathrm{e}^{i k r}=\mathrm{e}^{-i k r}$. Thus, in these two special cases, parity and translational invariance can be used simultaneously for block-diagonalization and $|a(k, p)\rangle$ is indeed a momentum state with parity $p$ (or, in other words, $[T, P]=0$ in the sub-spaces with momenta $k=0$ and $\pi$ ).

